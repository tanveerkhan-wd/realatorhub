function ReplaceNumberWithCommas(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}$(document).ready(function(){var e=new Date;e.setDate(e.getDate()-1);e.getHours(),e.getMinutes();$(".switch").text(""),$(".form_time").click(function(){$(".switch").text("")}),$(".end_time").click(function(){$(".switch").text("")}),$("th[class=switch]").click(function(){$(this).text("")}),$("datetimepicker-hours").change(function(){$(".switch").text("")}),$("input[name=file1]").change(function(){$(".loader-outer-container").css("display","table");for(var e=$("input[name=list_id]").val(),t=$(this)[0].files,a=new FormData,r=0;r<t.length;r++){var o=t[r];a.append("photos",o,o.name),a.append("check_list_id",e),a.append("type",1)}$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/customer/fileupload-proofoffund",dataType:"json",processData:!1,contentType:!1,cache:!1,data:a,success:function(e){$(".loader-outer-container").css("display","none"),1==e.status?(toastr.success(e.message),$("input[name=file1]").val(""),setTimeout(function(){location.reload()},2e3)):(toastr.error(e.message),$("input[name=file1]").val(""))}})}),$("input[name=file2]").change(function(){$(".loader-outer-container").css("display","table");for(var e=$("input[name=list_id]").val(),t=$(this)[0].files,a=new FormData,r=0;r<t.length;r++){var o=t[r];a.append("photos",o,o.name),a.append("check_list_id",e),a.append("type",2)}$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/customer/fileupload-proofoffund",dataType:"json",processData:!1,contentType:!1,cache:!1,data:a,success:function(e){$(".loader-outer-container").css("display","none"),1==e.status?(toastr.success(e.message),$("input[name=file2]").val(""),setTimeout(function(){location.reload()},2e3)):(toastr.error(e.message),$("input[name=file2]").val(""))}})}),$("button[id=in_person_meeting_booking_type]").click(function(){$("input[name=booking_appintment_type]").val(1),$("#booking_appintment_type_title").text("In-Person Meeting")}),$("button[id=over_the_phone_consultant_type]").click(function(){$("input[name=booking_appintment_type]").val(2),$("#booking_appintment_type_title").text("Over the Phone Consultation")}),$("button[id=schedule_a_showing]").click(function(){$("input[name=booking_appintment_type]").val(3),$("#booking_appintment_type_title").text("Schedule a showing")}),$("button[id=final_walkthrough_type]").click(function(){$("input[name=booking_appintment_type]").val(4),$("#booking_appintment_type_title").text("Final Walkthrough")}),$("button[id=final_walkthrough_second_type]").click(function(){$("input[name=booking_appintment_type]").val(4),$("#booking_appintment_type_title").text("Final Walkthrough")}),$("button[id=photography_booking_type]").click(function(){$("input[name=booking_appintment_type]").val(5),$("#booking_appintment_type_title").text("Photography Appointment")}),$("button[name=booking_form_submit]").click(function(){let e=$("input[name=date]").val(),t=$("input[name=time]").val(),a=$("input[name=end_time]").val(),r=$("input[name=location]").val(),o=$("textarea[name=note]").val(),n=!0;if(""!=e&&""!=t&&""!=r&&""!=o&&""!=a||(n=!1,toastr.error("All fields are required.")),t>a&&toastr.error("End time is not accept less to Start time"),1==n){var s=$("#booking_appointment_form").serialize();$(".loader-outer-container").css("display","table"),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/customer/add-booking-appointment",dataType:"json",data:s,success:function(e){$(".loader-outer-container").css("display","none"),1==e.status?(toastr.success(e.message),$("input[name=date]").val(""),$("input[name=time]").val(""),$("input[name=location]").val(""),$("textarea[name=note]").val(""),$("input[name=end_time]").val(""),$(".flow_detail_modal").modal("hide")):toastr.error(e.message)}})}}),$("#in_person_meeting").on("hidden.bs.modal",function(e){$("input[name=date]").val(""),$("input[name=time]").val(""),$("input[name=location]").val(""),$("textarea[name=note]").val(""),$("input[name=end_time]").val("")}),$("button[name=appraisal_form_submit]").click(function(){let e=$("input[name=appraisal_date]").val(),t=$("input[name=appraisal_time]").val(),a=$("input[name=property_address]").val();console.log(e),console.log(t),console.log(a);let r=!0;if(""!=e&&""!=t&&""!=a||(r=!1,toastr.error("All fields are required")),1==r){var o=$("#appraisal_form").serialize();$(".loader-outer-container").css("display","table"),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/customer/add-appraisal",dataType:"json",data:o,success:function(e){$(".loader-outer-container").css("display","none"),1==e.status?(toastr.success(e.message),$("input[name=date]").val(""),$("input[name=time]").val(""),$("input[name=property_address]").val(""),$(".flow_detail_modal").modal("hide")):toastr.error(e.message)}})}}),$("#appraisal_modal").on("hidden.bs.modal",function(e){$("input[name=date]").val(""),$("input[name=time]").val(""),$("input[name=property_address]").val("")}),$(document).ready(function(){$("#customer_offer_form").validate({rules:{customer_offer_contact_name:"required",customer_offer_property_address:"required",customer_offer_purchase_price:"required",customer_offer_earnest_money_amount:"required",customer_offer_closing_date:"required",customer_offer_earnest_money_amount:"required"},submitHandler:function(e){}})}),$("button[name=customer_offer_form_submit]").click(function(){let e=$("input[name=customer_offer_contact_name]").val(),t=$("input[name=customer_offer_property_address]").val(),a=$("input[name=customer_offer_purchase_price]").val(),r=$("input[name=customer_offer_earnest_money_amount]").val(),o=$("input[name=customer_offer_closing_date]").val();if(!$("#customer_offer_form").valid())return!1;let n=!0;if(""!=e&&""!=t&&""!=a&&""!=r&&""!=o||(n=!1),1==n){$("#pageLoadingDiv").css("display","inline-table");var s=$("#customer_offer_form").serialize();$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/customer/add-customer-offer",dataType:"json",data:s,success:function(e){$(".loader-outer-container").css("display","none"),console.log(e.status),1==e.status?(toastr.success(e.message),$("input[name=customer_offer_contact_name]").val(""),$("input[name=customer_offer_property_address]").val(""),$("input[name=customer_offer_purchase_price]").val(""),$("input[name=customer_offer_earnest_money_amount]").val(""),$("input[name=customer_offer_closing_date]").val(""),$(".flow_detail_modal").modal("hide")):toastr.error(e.message)}})}}),$("#submit_an_offer").on("hidden.bs.modal",function(e){$("input[name=customer_offer_contact_name]").val(""),$("input[name=customer_offer_property_address]").val(""),$("input[name=customer_offer_purchase_price]").val(""),$("input[name=customer_offer_earnest_money_amount]").val(""),$("input[name=customer_offer_closing_date]").val("")}),$(document).on("click","#checkOTP",function(){var e=$("#otp").val();$("#user_id").val();if(""==e||null==e)return toastr.error("Please enter the OTP"),!1;$(".loader-outer-container").css("display","table");var t=new FormData;t.append("user_id",$("#user_id").val()),t.append("otp",$("#otp").val()),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/verify-otp",datatype:JSON,processData:!1,contentType:!1,cache:!1,data:t,success:function(e){return $(".loader-outer-container").css("display","none"),201==e.code?(toastr.error(e.message),!1):300==e.code?($("#otp_popup_lender_verify").html(e.view).modal("show"),!1):(toastr.success(e.message),void setTimeout(function(){window.location.href=base_url_route+e.action},1500))}})}),$(document).on("click","#checkOTPForgot",function(){var e=$("#otp_forgot").val();$("#user_id").val();if(""==e||null==e)return toastr.error("Please enter the OTP"),!1;$(".loader-outer-container").css("display","table");var t=new FormData;t.append("user_id",$("#user_id").val()),t.append("otp",$("#otp_forgot").val()),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/verify-otp-forgot",datatype:JSON,processData:!1,contentType:!1,cache:!1,data:t,success:function(e){if($(".loader-outer-container").css("display","none"),201==e.code)return toastr.error(e.message),!1;toastr.success(e.message),$("#otp_popup_lender_verify").html(e.data.view).modal("show")}})})}),$(document).on("click",".forgotPasswordModel",function(){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/forgot-password-modal",datatype:JSON,processData:!1,contentType:!1,cache:!1,success:function(e){$("#otp_popup_lender_verify").html(e.data.view).modal("show")}})}),$(document).on("click","#forgotPasswordButton",function(){var e=$("#email_id_forgot").val(),t=/^\w+([-+.'][^\s]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e);if(""==$.trim(e)||null==e)return toastr.error("Please enter email"),!1;if(!t)return toastr.error("Please enter valid Email"),!1;$("#email_id_forgot_error").html(""),$(".loader-outer-container").css("display","table");var a=new FormData;a.append("email",e),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/forgot-password-post",datatype:JSON,processData:!1,contentType:!1,cache:!1,data:a,success:function(e){if($(".loader-outer-container").css("display","none"),201==e.code)return toastr.error(e.message),!1;200==e.code&&(toastr.success(e.message),$("#otp_popup_lender_verify").html(e.data.view).modal("show"))}})}),$(document).on("click",".siginclickModel",function(){$.ajaxSetup({beforeSend:function(e,t){t.crossDomain||e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))}}),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/sign-in-modal",datatype:JSON,processData:!1,contentType:!1,cache:!1,data:{_token:$('meta[name="csrf-token"]').attr("content")},success:function(e){$("#otp_popup_lender_verify").html(e.data.view).modal("show")}})}),$(document).on("click","#resetPasswordCheck",function(){var e=$("#new_password_reset").val(),t=$("#confirm_password_reset").val();if(""==$.trim(e)||"null"==e)return toastr.error("New Password is required"),!1;if(""==$.trim(t)||"null"==t)return toastr.error("Confirm Password is required"),!1;if($.trim(t)!=$.trim(e))return toastr.error("New and Confirm Password must be same"),!1;if(e.length<6)return toastr.error("Please enter at least 6 characters."),!1;$("#new_password_reset_error").html(""),$("#confirm_password_reset_error").html(""),$(".loader-outer-container").css("display","table");var a=new FormData;a.append("new_password_reset",e),a.append("confirm_password_reset",t),a.append("user_id",$("#user_id").val()),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/reset-passsword-post",datatype:JSON,processData:!1,contentType:!1,cache:!1,data:a,success:function(e){if($(".loader-outer-container").css("display","none"),201==e.code)return toastr.error(e.message),!1;toastr.success(e.message),setTimeout(function(){location.href=base_url_route},1500)}})}),$(document).on("click",".signincheck",function(){var e=$("#email_id_signin").val(),t=$("#password_signin").val(),a=/^\w+([-+.'][^\s]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e);if(""==$.trim(e)||null==e)return toastr.error("Please enter email"),!1;if(""==$.trim(t)||null==t)return toastr.error("Please enter password"),!1;if(t.length<6)return toastr.error("Please enter at least 6 characters."),!1;if(!a)return toastr.error("Please enter valid Email"),!1;$("#emailIdError").html(""),$("#passwordError").html(""),$(".loader-outer-container").css("display","table");var r=new FormData;r.append("emailId",e),r.append("password",t),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/login-check-front",datatype:JSON,processData:!1,contentType:!1,cache:!1,data:r,success:function(e){if($(".loader-outer-container").css("display","none"),201==e.code)return toastr.error(e.message),!1;500==e.code?(toastr.warning(e.message),$("#otp_popup_lender_verify").html(e.data.view).modal("show")):(toastr.success(e.message),setTimeout(function(){var t=$(location).attr("href");t==base_url_route+"/preview-details"?location.href=base_url_route+"/save-flow-details":t==base_url_route+"/preview-details#"?location.href=base_url_route+"/save-flow-details":location.href=base_url_route+"/"+e.action},1500))}})}),$.fn.digits=function(){return this.each(function(){$(this).text($(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))})},$(document).on("click",".siginclickModel",function(){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/sign-in-modal",datatype:JSON,processData:!1,contentType:!1,cache:!1,success:function(e){$("#otp_popup_lender_verify").html(e.data.view).modal("show")}})}),$(document).on("click",".signupClickModel",function(){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/sign-up-modal",datatype:JSON,processData:!1,contentType:!1,cache:!1,success:function(e){$("#otp_popup_lender_verify").html(e.data.view).modal("show")}})}),$(document).on("click",".signupcheck",function(){var e=$("#first_name").val(),t=$("#last_name").val(),a=$("#phone_number").val(),r=$("#email_id_signin").val(),o=$("#password_signin").val(),n=/^\w+([-+.'][^\s]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(r);if(""==$.trim(e)||null==e)return toastr.error("Please enter first name"),!1;if(""==$.trim(t)||null==t)return toastr.error("Please enter last name"),!1;if(""==$.trim(r)||null==r)return toastr.error("Please enter email"),!1;if(!n)return toastr.error("Please enter valid Email"),!1;if(""==$.trim(a)||null==a)return toastr.error("Please enter phone number"),!1;if(""==$.trim(o)||null==o)return toastr.error("Please enter password"),!1;if(o.length<6)return toastr.error("Please enter at least 6 characters."),!1;$("#emailIdError").html(""),$("#passwordError").html(""),$(".loader-outer-container").css("display","table");var s=new FormData;s.append("firstName",e),s.append("lastName",t),s.append("email",r),s.append("password",o),s.append("phoneNumber",a),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/sign-up",datatype:JSON,processData:!1,contentType:!1,cache:!1,data:s,success:function(e){if($(".loader-outer-container").css("display","none"),201==e.code)return toastr.error(e.message),!1;500==e.code?toastr.warning(e.message):(toastr.success(e.message),setTimeout(function(){$(location).attr("href");$("#otp_popup_lender_verify").html(e.data.view).modal("show")},1500))}})}),$(document).on("click","#resetPasswordCheck",function(){var e=$("#new_password_reset").val(),t=$("#confirm_password_reset").val();if(""==$.trim(e)||"null"==e)return toastr.error("New Password is required"),!1;if(""==$.trim(t)||"null"==t)return toastr.error("Confirm Password is required"),!1;if($.trim(t)!=$.trim(e))return toastr.error("New and Confirm Password must be same"),!1;if(e.length<6)return toastr.error("Please enter at least 6 characters."),!1;$("#new_password_reset_error").html(""),$("#confirm_password_reset_error").html(""),$(".loader-outer-container").css("display","table");var a=new FormData;a.append("new_password_reset",e),a.append("confirm_password_reset",t),a.append("user_id",$("#user_id").val()),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:base_url_route+"/reset-passsword-post",datatype:JSON,processData:!1,contentType:!1,cache:!1,data:a,success:function(e){if($(".loader-outer-container").css("display","none"),201==e.code)return toastr.error(e.message),!1;toastr.success(e.message),setTimeout(function(){location.href=base_url_route},1500)}})}),$(document).on("click",".checkbox-select",function(){var e,t="",a="";1==$(this).prop("checked")?(t="Are you sure you want to check?",a=1):0==$(this).prop("checked")&&(t="Are you sure you want to un-check?",a=0);var r=$(this).data("checklistid"),o=$(this).data("textid");e=$(this).attr("label_name"),swal({text:t,type:"info",showCancelButton:!0,confirmButtonClass:"blue_button alert_btn mr-40",cancelButtonClass:"blue_border_button alert_btn",confirmButtonText:"Yes"}).then(function(t){1==t.value?($(".loader-outer-container").css("display","table"),$.ajax({type:"POST",url:base_url_route+"/checklistStaticTextChecked",data:{checklistid:r,taxtid:o,status:a,label_name:e},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){$(".loader-outer-container").css("display","none"),200==e.code?swal("Success",e.message,"success"):swal("Error",e.message,"error")}})):setTimeout(function(){location.reload()},1e3)})});